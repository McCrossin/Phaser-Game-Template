#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Fast local validation pipeline (target <60s total)
echo "ðŸ” Running pre-commit validation..."

# Stage 1: Quick quality checks (target <30s)
echo "ðŸ“‹ Running lint-staged..."
npx lint-staged

echo "ðŸ” Type checking..."
npm run typecheck --silent

# Stage 2: Security and unit tests (target <30s)
echo "ðŸ›¡ï¸  Security scan..."
npm run security:check:local --silent

echo "ðŸ§ª Fast unit tests..."
npm run test:unit:fast --silent

echo "âœ… Pre-commit validation complete!"
